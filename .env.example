# stockpile config
# copy this file to .env and fill in your values

# required API key
GEMINI_API_KEY=

# input sources (local required)
LOCAL_INPUT_FOLDER=input
GOOGLE_DRIVE_INPUT_FOLDER_ID=

# output destinations (local required)
LOCAL_OUTPUT_FOLDER=output
GOOGLE_DRIVE_OUTPUT_FOLDER_ID=

# email notifications (optional)
NOTIFICATION_EMAIL=

# models
WHISPER_MODEL=base
GEMINI_MODEL=gemini-3-flash-preview

# google API (required if using Google Drive and/or you want email notifications)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# processing settings
MAX_VIDEOS_PER_PHRASE=3
MAX_VIDEO_DURATION_SECONDS=900
MAX_VIDEO_SIZE_MB=80

# timeline-aware B-roll planning
# Target number of B-roll clips per minute of input video
# Example: 2 clips/min = 20 B-roll needs for a 10 minute video
CLIPS_PER_MINUTE=2

# interactive mode settings
# Maximum number of AI-generated context questions to ask in interactive mode
INTERACTIVE_MAX_QUESTIONS=3

# clip extraction settings
CLIP_EXTRACTION_ENABLED=true
MIN_CLIP_DURATION=4
MAX_CLIP_DURATION=15
MAX_CLIPS_PER_VIDEO=3
DELETE_ORIGINAL_AFTER_EXTRACTION=true

# two-pass download optimization
# download low-quality preview first, then only download needed clips in high quality
# provides 3-4x speed improvement and 85% bandwidth savings
USE_TWO_PASS_DOWNLOAD=true

# preview quality for AI analysis (lower = faster download)
# options: 144, 240, 360, 480
PREVIEW_MAX_HEIGHT=360

# high-quality clip format
# default: 1080p max with best audio
CLIP_DOWNLOAD_FORMAT=bestvideo[height<=1080]+bestaudio/best

# AI response caching (reduces costs on re-processing)
# Enable caching of AI responses to avoid redundant API calls
CACHE_ENABLED=true

# Cache time-to-live in days (how long to keep cached responses)
CACHE_TTL_DAYS=30

# Maximum cache size in GB
CACHE_MAX_SIZE_GB=1.0

# Cache directory (relative to project root)
CACHE_DIR=.cache/ai_responses

# Parallel processing settings (Phase 2 Performance Optimization)
# Maximum concurrent B-roll needs to process simultaneously
MAX_CONCURRENT_NEEDS=5

# Maximum concurrent video downloads per need
# Higher values = faster but more memory/bandwidth usage
PARALLEL_DOWNLOADS=3

# Maximum concurrent clip extractions (FFmpeg processes)
# Higher values = faster but more CPU usage
PARALLEL_EXTRACTIONS=2

# Maximum concurrent AI API calls
# Higher values = faster but may hit rate limits
PARALLEL_AI_CALLS=5

# Cost tracking and budget management
# Budget limit in USD (optional - set to 0 to disable)
# Warning will be logged if processing costs exceed this limit
BUDGET_LIMIT_USD=10.0